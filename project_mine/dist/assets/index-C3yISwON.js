(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();function p(i,r){const n=Array(i).fill().map(()=>Array(i).fill().map(()=>({isMine:!1,isRevealed:!1,isFlagged:!1,adjacentMines:0})));let s=r;for(;s>0;){const t=Math.floor(Math.random()*i),e=Math.floor(Math.random()*i);n[e][t].isMine||(n[e][t].isMine=!0,s--)}for(let t=0;t<i;t++)for(let e=0;e<i;e++)n[t][e].isMine||(n[t][e].adjacentMines=y(n,e,t,i));return{cells:n,toggleFlag(t,e){n[e][t].isRevealed||(n[e][t].isFlagged=!n[e][t].isFlagged)},reveal(t,e){if(!(n[e][t].isFlagged||n[e][t].isRevealed)){if(n[e][t].isRevealed=!0,n[e][t].isMine)return"mine";if(n[e][t].adjacentMines===0&&m(n,t,e,i),E(n))return"win"}},revealAll(){n.forEach(t=>t.forEach(e=>e.isRevealed=!0))}}}function y(i,r,n,s){let t=0;for(let e=-1;e<=1;e++)for(let l=-1;l<=1;l++){const a=r+l,o=n+e;a>=0&&a<s&&o>=0&&o<s&&i[o][a].isMine&&t++}return t}function m(i,r,n,s){for(let t=-1;t<=1;t++)for(let e=-1;e<=1;e++){const l=r+e,a=n+t;if(l>=0&&l<s&&a>=0&&a<s){const o=i[a][l];!o.isRevealed&&!o.isMine&&!o.isFlagged&&(o.isRevealed=!0,o.adjacentMines===0&&m(i,l,a,s))}}}function E(i){return i.every(r=>r.every(n=>n.isRevealed===!n.isMine))}class M{constructor(r){this.element=r,this.seconds=0,this.interval=null,this.isRunning=!1}start(){this.isRunning||(this.isRunning=!0,this.interval=setInterval(()=>{this.seconds++,this.element.textContent=this.seconds},1e3))}stop(){this.interval&&(clearInterval(this.interval),this.isRunning=!1)}reset(){this.stop(),this.seconds=0,this.element.textContent="0"}}const I=9,u=10;let d,c,f=!1;function g(){f=!1,document.getElementById("new-game").textContent="ðŸ˜Š",document.getElementById("mines-count").textContent=u,c&&c.stop(),c=new M(document.getElementById("timer")),d=p(I,u),h()}function h(){const i=document.getElementById("board");i.innerHTML="",d.cells.forEach((r,n)=>{r.forEach((s,t)=>{const e=document.createElement("button");e.className="cell",e.dataset.x=t,e.dataset.y=n,s.isRevealed?(e.classList.add("revealed"),s.isMine?(e.textContent="ðŸ’£",e.classList.add("mine")):s.adjacentMines>0&&(e.textContent=s.adjacentMines)):s.isFlagged&&(e.textContent="ðŸš©",e.classList.add("flagged")),i.appendChild(e)})})}function v(i){if(f)return;const r=i.target;if(!r.classList.contains("cell"))return;const n=parseInt(r.dataset.x),s=parseInt(r.dataset.y);if(c.isRunning||c.start(),i.button===2||i.ctrlKey)d.toggleFlag(n,s),document.getElementById("mines-count").textContent=u-d.cells.flat().filter(t=>t.isFlagged).length;else{const t=d.reveal(n,s);t==="mine"?(f=!0,c.stop(),document.getElementById("new-game").textContent="ðŸ˜µ",d.revealAll()):t==="win"&&(f=!0,c.stop(),document.getElementById("new-game").textContent="ðŸ˜Ž")}h()}document.getElementById("board").addEventListener("click",v);document.getElementById("board").addEventListener("contextmenu",i=>{i.preventDefault(),v(i)});document.getElementById("new-game").addEventListener("click",g);document.addEventListener("contextmenu",i=>i.preventDefault());g();
